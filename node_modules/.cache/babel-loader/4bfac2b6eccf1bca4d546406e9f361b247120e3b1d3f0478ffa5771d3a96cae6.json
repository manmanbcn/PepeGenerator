{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anatoly/Desktop/coding/projects/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/anatoly/Desktop/coding/projects/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/anatoly/Desktop/coding/projects/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'../CharacterSelector.css';import html2canvas from'html2canvas';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CharacterCanvas=function CharacterCanvas(_ref){var characterPartRef=_ref.characterPartRef;var _useState=useState('jpg'),_useState2=_slicedToArray(_useState,2),downloadFormat=_useState2[0],setDownloadFormat=_useState2[1];var downloadImage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var canvas,link;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return html2canvas(characterPartRef.current,{scale:2,backgroundColor:downloadFormat==='jpg'?null:'transparent'});case 3:canvas=_context.sent;link=document.createElement('a');link.download=\"character.\".concat(downloadFormat);link.href=downloadFormat==='jpg'?canvas.toDataURL('image/jpeg'):canvas.toDataURL();link.click();_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error('Ошибка при сохранении изображения',_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function downloadImage(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{onClick:downloadImage,className:\"save-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"save-link-text\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"save-link-text-button\",children:\"Save\"}),/*#__PURE__*/_jsx(\"img\",{className:\"save-link-img\",src:\"src/assets/save.png\",alt:\"Save\"})]})});};export{CharacterCanvas};","map":{"version":3,"names":["React","useState","html2canvas","jsx","_jsx","jsxs","_jsxs","CharacterCanvas","_ref","characterPartRef","_useState","_useState2","_slicedToArray","downloadFormat","setDownloadFormat","downloadImage","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","canvas","link","wrap","_callee$","_context","prev","next","current","scale","backgroundColor","sent","document","createElement","download","concat","href","toDataURL","click","t0","console","error","stop","apply","arguments","onClick","className","children","src","alt"],"sources":["/Users/anatoly/Desktop/coding/projects/my-app/src/components/CharacterCanvas.js"],"sourcesContent":["import React, { useState } from 'react';\nimport '../CharacterSelector.css';\n\nimport html2canvas from 'html2canvas'; \n\nconst CharacterCanvas = ( { characterPartRef } ) => {\n  const [downloadFormat, setDownloadFormat] = useState('jpg');\n\n  const downloadImage = async () => {\n    try {\n      const canvas = await html2canvas(characterPartRef.current, {\n        scale: 2, \n        backgroundColor: downloadFormat === 'jpg' ? null : 'transparent', \n      });\n\n      const link = document.createElement('a');\n      link.download = `character.${downloadFormat}`;\n      link.href = downloadFormat === 'jpg' ? canvas.toDataURL('image/jpeg') : canvas.toDataURL();\n      link.click();\n    } catch (error) {\n      console.error('Ошибка при сохранении изображения', error);\n    }\n  };\n\n  return (\n        <div onClick={downloadImage} className=\"save-wrapper\">\n        <div className=\"save-link-text\">\n          <span className=\"save-link-text-button\">Save</span>\n          <img className=\"save-link-img\" src=\"src/assets/save.png\" alt=\"Save\" />\n        </div>\n      </div>\n  );\n};\n\nexport {CharacterCanvas};\n"],"mappings":"yZAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,0BAA0B,CAEjC,MAAO,CAAAC,WAAW,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtC,GAAM,CAAAC,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAAC,IAAA,CAA+B,IAAxB,CAAAC,gBAAgB,CAAAD,IAAA,CAAhBC,gBAAgB,CAC1C,IAAAC,SAAA,CAA4CT,QAAQ,CAAC,KAAK,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAApDG,cAAc,CAAAF,UAAA,IAAEG,iBAAiB,CAAAH,UAAA,IAExC,GAAM,CAAAI,aAAa,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,MAAA,CAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEG,CAAAzB,WAAW,CAACO,gBAAgB,CAACmB,OAAO,CAAE,CACzDC,KAAK,CAAE,CAAC,CACRC,eAAe,CAAEjB,cAAc,GAAK,KAAK,CAAG,IAAI,CAAG,aACrD,CAAC,CAAC,QAHIQ,MAAM,CAAAI,QAAA,CAAAM,IAAA,CAKNT,IAAI,CAAGU,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACxCX,IAAI,CAACY,QAAQ,cAAAC,MAAA,CAAgBtB,cAAc,CAAE,CAC7CS,IAAI,CAACc,IAAI,CAAGvB,cAAc,GAAK,KAAK,CAAGQ,MAAM,CAACgB,SAAS,CAAC,YAAY,CAAC,CAAGhB,MAAM,CAACgB,SAAS,CAAC,CAAC,CAC1Ff,IAAI,CAACgB,KAAK,CAAC,CAAC,CAACb,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAc,EAAA,CAAAd,QAAA,aAEbe,OAAO,CAACC,KAAK,CAAC,mCAAmC,CAAAhB,QAAA,CAAAc,EAAO,CAAC,CAAC,yBAAAd,QAAA,CAAAiB,IAAA,MAAAtB,OAAA,iBAE7D,kBAdK,CAAAL,aAAaA,CAAA,SAAAC,KAAA,CAAA2B,KAAA,MAAAC,SAAA,OAclB,CAED,mBACMxC,IAAA,QAAKyC,OAAO,CAAE9B,aAAc,CAAC+B,SAAS,CAAC,cAAc,CAAAC,QAAA,cACrDzC,KAAA,QAAKwC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B3C,IAAA,SAAM0C,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,MAAI,CAAM,CAAC,cACnD3C,IAAA,QAAK0C,SAAS,CAAC,eAAe,CAACE,GAAG,CAAC,qBAAqB,CAACC,GAAG,CAAC,MAAM,CAAE,CAAC,EACnE,CAAC,CACH,CAAC,CAEZ,CAAC,CAED,OAAQ1C,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}